<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: RSpec::Mocks::ExampleMethods
  
    &mdash; Documentation by YARD 0.8.0
  
</title>

  <link rel="stylesheet" href="/stylesheets/docs/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="/stylesheets/docs/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="/javascripts/docs/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="/javascripts/docs/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (E)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Mocks.html" title="RSpec::Mocks (module)">Mocks</a></span></span>
     &raquo; 
    <span class="title">ExampleMethods</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: RSpec::Mocks::ExampleMethods
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="ArgumentMatchers.html" title="RSpec::Mocks::ArgumentMatchers (module)">ArgumentMatchers</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rspec/mocks/example_methods.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="ExampleMethods/ExpectHost.html" title="RSpec::Mocks::ExampleMethods::ExpectHost (module)">ExpectHost</a></span>
    
  
    
  
</p>







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#allow_message_expectations_on_nil-instance_method" title="#allow_message_expectations_on_nil (instance method)">- (Object) <strong>allow_message_expectations_on_nil</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Disables warning messages about expectations being set on nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#double-instance_method" title="#double (instance method)">- (Mock) <strong>double</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Constructs an instance of <a href="RSpec::Mocks::Mock">RSpec::Mocks::Mock</a> configured
with an optional name, used for reporting in failure messages, and an optional
hash of method/return-value pairs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#have_received-instance_method" title="#have_received (instance method)">- (Object) <strong>have_received</strong>(method_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Verifies that the given object received the expected message during the
course of the test.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hide_const-instance_method" title="#hide_const (instance method)">- (Object) <strong>hide_const</strong>(constant_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Hides the named constant with the given value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mock-instance_method" title="#mock (instance method)">- (Object) <strong>mock</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Deprecated: Use <a href="#double-instance_method">double</a>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stub-instance_method" title="#stub (instance method)">- (Object) <strong>stub</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Deprecated: Use <a href="#double-instance_method">double</a>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stub_const-instance_method" title="#stub_const (instance method)">- (Object) <strong>stub_const</strong>(constant_name, value, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Stubs the named constant with the given value.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ArgumentMatchers.html" title="RSpec::Mocks::ArgumentMatchers (module)">ArgumentMatchers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ArgumentMatchers.html#any_args-instance_method" title="RSpec::Mocks::ArgumentMatchers#any_args (method)">#any_args</a></span>, <span class='object_link'><a href="ArgumentMatchers.html#anything-instance_method" title="RSpec::Mocks::ArgumentMatchers#anything (method)">#anything</a></span>, <span class='object_link'><a href="ArgumentMatchers.html#boolean-instance_method" title="RSpec::Mocks::ArgumentMatchers#boolean (method)">#boolean</a></span>, <span class='object_link'><a href="ArgumentMatchers.html#duck_type-instance_method" title="RSpec::Mocks::ArgumentMatchers#duck_type (method)">#duck_type</a></span>, <span class='object_link'><a href="ArgumentMatchers.html#hash_excluding-instance_method" title="RSpec::Mocks::ArgumentMatchers#hash_excluding (method)">#hash_excluding</a></span>, <span class='object_link'><a href="ArgumentMatchers.html#hash_including-instance_method" title="RSpec::Mocks::ArgumentMatchers#hash_including (method)">#hash_including</a></span>, <span class='object_link'><a href="ArgumentMatchers.html#instance_of-instance_method" title="RSpec::Mocks::ArgumentMatchers#instance_of (method)">#instance_of</a></span>, <span class='object_link'><a href="ArgumentMatchers.html#kind_of-instance_method" title="RSpec::Mocks::ArgumentMatchers#kind_of (method)">#kind_of</a></span>, <span class='object_link'><a href="ArgumentMatchers.html#no_args-instance_method" title="RSpec::Mocks::ArgumentMatchers#no_args (method)">#no_args</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="allow_message_expectations_on_nil-instance_method">
  
    - (<tt>Object</tt>) <strong>allow_message_expectations_on_nil</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Disables warning messages about expectations being set on nil.</p>

<p>By default warning messages are issued when expectations are set on
nil.  This is to prevent false-positives and to catch potential bugs
early on.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/example_methods.rb', line 51</span>

<span class='kw'>def</span> <span class='id identifier rubyid_allow_message_expectations_on_nil'>allow_message_expectations_on_nil</span>
  <span class='const'>RSpec</span><span class='op'>::</span><span class='const'>Mocks</span><span class='period'>.</span><span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_proxy_for'>proxy_for</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_warn_about_expectations'>warn_about_expectations</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="double-instance_method">
  
    
      <span class="overload">- (<tt>Mock</tt>) <strong>double</strong> </span>
    
      <span class="overload">- (<tt>Mock</tt>) <strong>double</strong>(name) </span>
    
      <span class="overload">- (<tt>Mock</tt>) <strong>double</strong>(stubs) </span>
    
      <span class="overload">- (<tt>Mock</tt>) <strong>double</strong>(name, stubs) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Constructs an instance of <a href="RSpec::Mocks::Mock">RSpec::Mocks::Mock</a> configured
with an optional name, used for reporting in failure messages, and an optional
hash of method/return-value pairs.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_book'>book</span> <span class='op'>=</span> <span class='id identifier rubyid_double'>double</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>book</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:title</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The RSpec Book</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_book'>book</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span> <span class='comment'>#=&gt; &quot;The RSpec Book&quot;
</span>
<span class='id identifier rubyid_card'>card</span> <span class='op'>=</span> <span class='id identifier rubyid_double'>double</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>card</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:suit</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Spades</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:rank</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_suit'>suit</span>  <span class='comment'>#=&gt; &quot;Spades&quot;
</span><span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_rank'>rank</span>  <span class='comment'>#=&gt; &quot;A&quot;</span></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String/Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>(optional) used in
clarify intent</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>stubs</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>(optional) hash of method/return-value pairs</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Mock</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#mock-instance_method" title="RSpec::Mocks::ExampleMethods#mock (method)">#mock</a></span></li>
    
      <li><span class='object_link'><a href="#stub-instance_method" title="RSpec::Mocks::ExampleMethods#stub (method)">#stub</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/example_methods.rb', line 30</span>

<span class='kw'>def</span> <span class='id identifier rubyid_double'>double</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_declare_double'>declare_double</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Double</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="have_received-instance_method">
  
    - (<tt>Object</tt>) <strong>have_received</strong>(method_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Verifies that the given object received the expected message during the
course of the test. The method must have previously been stubbed in
order for messages to be verified.</p>

<p>Stubbing and verifying messages received in this way implements the
Test Spy pattern.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_invitation'>invitation</span> <span class='op'>=</span> <span class='id identifier rubyid_double'>double</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>invitation</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>accept:</span> <span class='kw'>true</span><span class='rparen'>)</span>
<span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_accept_invitation'>accept_invitation</span><span class='lparen'>(</span><span class='id identifier rubyid_invitation'>invitation</span><span class='rparen'>)</span>
<span class='id identifier rubyid_expect'>expect</span><span class='lparen'>(</span><span class='id identifier rubyid_invitation'>invitation</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_have_received'>have_received</span><span class='lparen'>(</span><span class='symbol'>:accept</span><span class='rparen'>)</span>

<span class='comment'># You can also use most message expectations:
</span><span class='id identifier rubyid_expect'>expect</span><span class='lparen'>(</span><span class='id identifier rubyid_invitation'>invitation</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_have_received'>have_received</span><span class='lparen'>(</span><span class='symbol'>:accept</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_with'>with</span><span class='lparen'>(</span><span class='id identifier rubyid_mailer'>mailer</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_once'>once</span></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>method_name</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of the method expected to have been
called.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/example_methods.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_have_received'>have_received</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='rparen'>)</span>
  <span class='const'>Matchers</span><span class='op'>::</span><span class='const'>HaveReceived</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hide_const-instance_method">
  
    - (<tt>Object</tt>) <strong>hide_const</strong>(constant_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Hides the named constant with the given value. The constant will be
undefined for the duration of the test.</p>

<p>Like method stubs, the constant will be restored to its original value
when the example completes.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_hide_const'>hide_const</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MyClass</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; MyClass is now an undefined constant</span></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>constant_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fully qualified name of the constant.
The current constant scoping at the point of call is not considered.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/example_methods.rb', line 108</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hide_const'>hide_const</span><span class='lparen'>(</span><span class='id identifier rubyid_constant_name'>constant_name</span><span class='rparen'>)</span>
  <span class='const'>ConstantMutator</span><span class='period'>.</span><span class='id identifier rubyid_hide'>hide</span><span class='lparen'>(</span><span class='id identifier rubyid_constant_name'>constant_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mock-instance_method">
  
    - (<tt>Object</tt>) <strong>mock</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Deprecated: Use <a href="#double-instance_method">double</a>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/example_methods.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mock'>mock</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_deprecate'>deprecate</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mock</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:replacement</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>double</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_declare_double'>declare_double</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mock</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stub-instance_method">
  
    - (<tt>Object</tt>) <strong>stub</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Deprecated: Use <a href="#double-instance_method">double</a>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/example_methods.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_deprecate'>deprecate</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stub</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:replacement</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>double</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_declare_double'>declare_double</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Stub</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stub_const-instance_method">
  
    - (<tt>Object</tt>) <strong>stub_const</strong>(constant_name, value, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Stubs the named constant with the given value.
Like method stubs, the constant will be restored
to its original value (or lack of one, if it was
undefined) when the example completes.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_stub_const'>stub_const</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MyClass</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span> <span class='comment'># =&gt; Replaces (or defines) MyClass with a new class object.
</span><span class='id identifier rubyid_stub_const'>stub_const</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SomeModel::PER_PAGE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>5</span><span class='rparen'>)</span> <span class='comment'># =&gt; Sets SomeModel::PER_PAGE to 5.
</span>
<span class='kw'>class</span> <span class='const'>CardDeck</span>
  <span class='const'>SUITS</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:Spades</span><span class='comma'>,</span> <span class='symbol'>:Diamonds</span><span class='comma'>,</span> <span class='symbol'>:Clubs</span><span class='comma'>,</span> <span class='symbol'>:Hearts</span><span class='rbracket'>]</span>
  <span class='const'>NUM_CARDS</span> <span class='op'>=</span> <span class='int'>52</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_stub_const'>stub_const</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CardDeck</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
<span class='const'>CardDeck</span><span class='op'>::</span><span class='const'>SUITS</span> <span class='comment'># =&gt; uninitialized constant error
</span><span class='const'>CardDeck</span><span class='op'>::</span><span class='const'>NUM_CARDS</span> <span class='comment'># =&gt; uninitialized constant error
</span>
<span class='id identifier rubyid_stub_const'>stub_const</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CardDeck</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='symbol'>:transfer_nested_constants</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>
<span class='const'>CardDeck</span><span class='op'>::</span><span class='const'>SUITS</span> <span class='comment'># =&gt; our suits array
</span><span class='const'>CardDeck</span><span class='op'>::</span><span class='const'>NUM_CARDS</span> <span class='comment'># =&gt; 52
</span>
<span class='id identifier rubyid_stub_const'>stub_const</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CardDeck</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='symbol'>:transfer_nested_constants</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:SUITS</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='const'>CardDeck</span><span class='op'>::</span><span class='const'>SUITS</span> <span class='comment'># =&gt; our suits array
</span><span class='const'>CardDeck</span><span class='op'>::</span><span class='const'>NUM_CARDS</span> <span class='comment'># =&gt; uninitialized constant error</span></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>constant_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fully qualified name of the constant. The current
constant scoping at the point of call is not considered.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The value to make the constant refer to. When the
example completes, the constant will be restored to its prior state.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Stubbing options.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:transfer_nested_constants</span>
          <span class="type">(<tt>Boolean</tt>, <tt>Array&lt;Symbol&gt;</tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>Determines
what nested constants, if any, will be transferred from the original value
of the constant to the new value of the constant. This only works if both
the original and new values are modules (or classes).</p>
</div>
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the stubbed value of the constant</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/example_methods.rb', line 92</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stub_const'>stub_const</span><span class='lparen'>(</span><span class='id identifier rubyid_constant_name'>constant_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>ConstantMutator</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='id identifier rubyid_constant_name'>constant_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jan 29 14:01:28 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.0 (ruby-2.1.5).
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59095215-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
