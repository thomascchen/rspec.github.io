<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RSpec::Mocks::MessageExpectation
  
    &mdash; Documentation by YARD 0.8.0
  
</title>

  <link rel="stylesheet" href="/stylesheets/docs/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="/stylesheets/docs/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="/javascripts/docs/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="/javascripts/docs/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Mocks.html" title="RSpec::Mocks (module)">Mocks</a></span></span>
     &raquo; 
    <span class="title">MessageExpectation</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RSpec::Mocks::MessageExpectation
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">RSpec::Mocks::MessageExpectation</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rspec/mocks/message_expectation.rb</dd>
  
</dl>
<div class="clear"></div>





  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#argument_list_matcher%3D-instance_method" title="#argument_list_matcher= (instance method)">- (Object) <strong>argument_list_matcher</strong> </a>
    

    
  </span>
  
  
  
    
    
      <span class="note title writeonly">writeonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the attribute argument<em>list</em>matcher.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#message-instance_method" title="#message (instance method)">- (Object) <strong>message</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute message.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#orig_object-instance_method" title="#orig_object (instance method)">- (Object) <strong>orig_object</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute orig_object.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#warn_about_yielding_receiver_to_implementation_block-instance_method" title="#warn_about_yielding_receiver_to_implementation_block (instance method)">- (Object) <strong>warn_about_yielding_receiver_to_implementation_block</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute warn<em>about</em>yielding<em>receiver</em>to<em>implementation</em>block.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#and_call_original-instance_method" title="#and_call_original (instance method)">- (Object) <strong>and_call_original</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tells the object to delegate to the original unmodified method
when it receives the message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#and_raise-instance_method" title="#and_raise (instance method)">- (Object) <strong>and_raise</strong>(exception = RuntimeError, message = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tells the object to raise an exception when the message is received.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#and_return-instance_method" title="#and_return (instance method)">- (Object) <strong>and_return</strong>(*values) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tells the object to return a value when it receives the message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#and_throw-instance_method" title="#and_throw (instance method)">- (Object) <strong>and_throw</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tells the object to throw a symbol (with the object if that form is
used) when the message is received.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#and_yield-instance_method" title="#and_yield (instance method)">- (Object) <strong>and_yield</strong>(*args) {|@eval_context = Object.new.extend(RSpec::Mocks::InstanceExec)| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tells the object to yield one or more args to a block when the message
is received.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#and_yield_receiver_to_implementation-instance_method" title="#and_yield_receiver_to_implementation (instance method)">- (Object) <strong>and_yield_receiver_to_implementation</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_number_of_times-instance_method" title="#any_number_of_times (instance method)">- (Object) <strong>any_number_of_times</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Allows an expected message to be received any number of times.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at_least-instance_method" title="#at_least (instance method)">- (Object) <strong>at_least</strong>(n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Constrain a message expectation to be received at least a specific
number of times.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at_most-instance_method" title="#at_most (instance method)">- (Object) <strong>at_most</strong>(n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Constrain a message expectation to be received at most a specific
number of times.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#display_any_instance_deprecation_warning-instance_method" title="#display_any_instance_deprecation_warning (instance method)">- (Object) <strong>display_any_instance_deprecation_warning</strong>(block_source_line) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exactly-instance_method" title="#exactly (instance method)">- (Object) <strong>exactly</strong>(n) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Constrain a message expectation to be received a specific number of
times.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expectation_count_type-instance_method" title="#expectation_count_type (instance method)">- (Object) <strong>expectation_count_type</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#never-instance_method" title="#never (instance method)">- (Object) <strong>never</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Expect a message not to be received at all.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#once-instance_method" title="#once (instance method)">- (Object) <strong>once</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Expect a message to be received exactly one time.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ordered-instance_method" title="#ordered (instance method)">- (Object) <strong>ordered</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Expect messages to be received in a specific order.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#raise_out_of_order_error-instance_method" title="#raise_out_of_order_error (instance method)">- (Object) <strong>raise_out_of_order_error</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#should_display_any_instance_deprecation_warning-instance_method" title="#should_display_any_instance_deprecation_warning (instance method)">- (Object) <strong>should_display_any_instance_deprecation_warning</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#times-instance_method" title="#times (instance method)">- (Object) <strong>times</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Syntactic sugar for <code>exactly</code>, <code>at_least</code> and <code>at_most</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#twice-instance_method" title="#twice (instance method)">- (Object) <strong>twice</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Expect a message to be received exactly two times.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#warn_about_receiver_passing-instance_method" title="#warn_about_receiver_passing (instance method)">- (Object) <strong>warn_about_receiver_passing</strong>(any_instance_source_line) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with-instance_method" title="#with (instance method)">- (Object) <strong>with</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Constrains a stub or message expectation to invocations with specific
arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#yield_receiver_to_implementation_block%3F-instance_method" title="#yield_receiver_to_implementation_block? (instance method)">- (Boolean) <strong>yield_receiver_to_implementation_block?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="argument_list_matcher=-instance_method"></span>
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="argument_list_matcher=-instance_method">
  
    - (<tt>Object</tt>) <strong>argument_list_matcher=</strong>(value)  <span class="extras">(writeonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the attribute argument<em>list</em>matcher</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'><p>the value to set the attribute argument<em>list</em>matcher to.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_argument_list_matcher='>argument_list_matcher=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@argument_list_matcher</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="message-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="message-instance_method">
  
    - (<tt>Object</tt>) <strong>message</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute message</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_message'>message</span>
  <span class='ivar'>@message</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="orig_object-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="orig_object-instance_method">
  
    - (<tt>Object</tt>) <strong>orig_object</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute orig_object</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_orig_object'>orig_object</span>
  <span class='ivar'>@orig_object</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="warn_about_yielding_receiver_to_implementation_block=-instance_method"></span>
      <span id="warn_about_yielding_receiver_to_implementation_block-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="warn_about_yielding_receiver_to_implementation_block-instance_method">
  
    - (<tt>Object</tt>) <strong>warn_about_yielding_receiver_to_implementation_block</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute warn<em>about</em>yielding<em>receiver</em>to<em>implementation</em>block</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 7</span>

<span class='kw'>def</span> <span class='id identifier rubyid_warn_about_yielding_receiver_to_implementation_block'>warn_about_yielding_receiver_to_implementation_block</span>
  <span class='ivar'>@warn_about_yielding_receiver_to_implementation_block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="and_call_original-instance_method">
  
    - (<tt>Object</tt>) <strong>and_call_original</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>This is only available on partial mock objects.</p>
</div>
  </div>

<p>Tells the object to delegate to the original unmodified method
when it receives the message.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:increment</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_call_original'>and_call_original</span>
<span class='id identifier rubyid_original_count'>original_count</span> <span class='op'>=</span> <span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_increment'>increment</span>
<span class='id identifier rubyid_expect'>expect</span><span class='lparen'>(</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_eq'>eq</span><span class='lparen'>(</span><span class='id identifier rubyid_original_count'>original_count</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_and_call_original'>and_call_original</span>
  <span class='kw'>if</span> <span class='ivar'>@method_double</span><span class='period'>.</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>RSpec</span><span class='op'>::</span><span class='const'>Mocks</span><span class='op'>::</span><span class='const'>TestDouble</span><span class='rparen'>)</span>
    <span class='ivar'>@error_generator</span><span class='period'>.</span><span class='id identifier rubyid_raise_only_valid_on_a_partial_mock'>raise_only_valid_on_a_partial_mock</span><span class='lparen'>(</span><span class='symbol'>:and_call_original</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@implementation</span> <span class='op'>=</span> <span class='const'>AndCallOriginalImplementation</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@method_double</span><span class='period'>.</span><span class='id identifier rubyid_original_method'>original_method</span><span class='rparen'>)</span>
    <span class='ivar'>@yield_receiver_to_implementation_block</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="and_raise-instance_method">
  
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_raise</strong> </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_raise</strong>(ExceptionClass) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_raise</strong>(ExceptionClass, message) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_raise</strong>(exception_instance) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>When you pass an exception class, the MessageExpectation will raise
an instance of it, creating it with <code>exception</code> and passing <code>message</code>
if specified.  If the exception class initializer requires more than
one parameters, you must pass in an instance and not the class,
otherwise this method will raise an ArgumentError exception.</p>
</div>
  </div>

<p>Tells the object to raise an exception when the message is received.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_raise'>and_raise</span>
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_raise'>and_raise</span><span class='lparen'>(</span><span class='const'>OutOfGas</span><span class='rparen'>)</span>
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_raise'>and_raise</span><span class='lparen'>(</span><span class='const'>OutOfGas</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>At least 2 oz of gas needed to drive</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_raise'>and_raise</span><span class='lparen'>(</span><span class='const'>OutOfGas</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='symbol'>:oz</span><span class='rparen'>)</span><span class='rparen'>)</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156
157
158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 153</span>

<span class='kw'>def</span> <span class='id identifier rubyid_and_raise'>and_raise</span><span class='lparen'>(</span><span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_exception'>exception</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:exception</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span> <span class='op'>?</span> <span class='id identifier rubyid_exception'>exception</span><span class='period'>.</span><span class='id identifier rubyid_exception'>exception</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_exception'>exception</span><span class='period'>.</span><span class='id identifier rubyid_exception'>exception</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_terminal_implementation_action'>terminal_implementation_action</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span> <span class='rbrace'>}</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="and_return-instance_method">
  
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_return</strong>(value) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_return</strong>(first_value, second_value) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_return</strong>(&amp;block) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Tells the object to return a value when it receives the message.  Given
more than one value, the first value is returned the first time the
message is received, the second value is returned the next time, etc,
etc.</p>

<p>If the message is received more times than there are values, the last
value is received for every subsequent call.</p>

<p>The block format is deprecated in favor of just passing a block to the
stub method.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:count</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_return'>and_return</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 1
</span>
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:count</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_return'>and_return</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rparen'>)</span>
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 3
</span><span class='comment'># etc
</span>
<span class='comment'># Deprecated ...
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:count</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_return'>and_return</span> <span class='lbrace'>{</span> <span class='int'>1</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 1
</span>
<span class='comment'># ... use this instead
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:count</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='int'>1</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 1</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_and_return'>and_return</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_values'>values</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_implementation'>implementation</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_negative?'>negative?</span>
    <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_deprecate'>deprecate</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`and_return` on a negative message expectation</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@expected_received_count</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='ivar'>@expected_received_count</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ignoring_args?'>ignoring_args?</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='ivar'>@expected_received_count</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='ivar'>@at_least</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_implementation'>implementation</span>
    <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_deprecate'>deprecate</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`and_return { value }`</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                    <span class='symbol'>:replacement</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`and_return(value)` or an implementation block without `and_return`</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_implementation'>implementation</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecation'>warn_deprecation</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`and_return` without arguments is deprecated. </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span>
                             <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Remove the `and_return`. </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span>
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Called from </span><span class='embexpr_beg'>#{</span><span class='const'>CallerFilter</span><span class='period'>.</span><span class='id identifier rubyid_first_non_rspec_line'>first_non_rspec_line</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_terminal_implementation_action'>terminal_implementation_action</span> <span class='op'>=</span> <span class='const'>AndReturnImplementation</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_values'>values</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="and_throw-instance_method">
  
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_throw</strong>(symbol) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>and_throw</strong>(symbol, object) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Tells the object to throw a symbol (with the object if that form is
used) when the message is received.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_throw'>and_throw</span><span class='lparen'>(</span><span class='symbol'>:out_of_gas</span><span class='rparen'>)</span>
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_throw'>and_throw</span><span class='lparen'>(</span><span class='symbol'>:out_of_gas</span><span class='comma'>,</span> <span class='symbol'>:level</span> <span class='op'>=&gt;</span> <span class='float'>0.1</span><span class='rparen'>)</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_and_throw'>and_throw</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_terminal_implementation_action'>terminal_implementation_action</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_throw'>throw</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="and_yield-instance_method">
  
    - (<tt>Object</tt>) <strong>and_yield</strong>(*args) {|@eval_context = Object.new.extend(RSpec::Mocks::InstanceExec)| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Tells the object to yield one or more args to a block when the message
is received.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:open</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and_yield'>and_yield</span><span class='lparen'>(</span><span class='const'>StringIO</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>@eval_context = Object.new.extend(<span class='object_link'><a href="InstanceExec.html" title="RSpec::Mocks::InstanceExec (module)">RSpec::Mocks::InstanceExec</a></span>)</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


183
184
185
186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 183</span>

<span class='kw'>def</span> <span class='id identifier rubyid_and_yield'>and_yield</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>yield</span> <span class='ivar'>@eval_context</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>RSpec</span><span class='op'>::</span><span class='const'>Mocks</span><span class='op'>::</span><span class='const'>InstanceExec</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
  <span class='ivar'>@args_to_yield</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_initial_implementation_action'>initial_implementation_action</span> <span class='op'>=</span> <span class='const'>AndYieldImplementation</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@args_to_yield</span><span class='comma'>,</span> <span class='ivar'>@eval_context</span><span class='comma'>,</span> <span class='ivar'>@error_generator</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="and_yield_receiver_to_implementation-instance_method">
  
    - (<tt>Object</tt>) <strong>and_yield_receiver_to_implementation</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_and_yield_receiver_to_implementation'>and_yield_receiver_to_implementation</span>
  <span class='ivar'>@yield_receiver_to_implementation_block</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="any_number_of_times-instance_method">
  
    - (<tt>Object</tt>) <strong>any_number_of_times</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Allows an expected message to be received any number of times.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


421
422
423
424
425
426</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 421</span>

<span class='kw'>def</span> <span class='id identifier rubyid_any_number_of_times'>any_number_of_times</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_deprecate'>deprecate</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>any_number_of_times</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:replacement</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stub</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='ivar'>@expected_received_count</span> <span class='op'>=</span> <span class='symbol'>:any</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="at_least-instance_method">
  
    - (<tt>Object</tt>) <strong>at_least</strong>(n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Constrain a message expectation to be received at least a specific
number of times.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_dealer'>dealer</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:deal_card</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_at_least'>at_least</span><span class='lparen'>(</span><span class='int'>9</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


385
386
387
388
389
390
391
392
393</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 385</span>

<span class='kw'>def</span> <span class='id identifier rubyid_at_least'>at_least</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_deprecate'>deprecate</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>at_least(0) with should_receive</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:replacement</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stub</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_set_expected_received_count'>set_expected_received_count</span> <span class='symbol'>:at_least</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="at_most-instance_method">
  
    - (<tt>Object</tt>) <strong>at_most</strong>(n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Constrain a message expectation to be received at most a specific
number of times.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_dealer'>dealer</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:deal_card</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_at_most'>at_most</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


401
402
403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 401</span>

<span class='kw'>def</span> <span class='id identifier rubyid_at_most'>at_most</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_set_expected_received_count'>set_expected_received_count</span> <span class='symbol'>:at_most</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="display_any_instance_deprecation_warning-instance_method">
  
    - (<tt>Object</tt>) <strong>display_any_instance_deprecation_warning</strong>(block_source_line) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 500</span>

<span class='kw'>def</span> <span class='id identifier rubyid_display_any_instance_deprecation_warning'>display_any_instance_deprecation_warning</span><span class='lparen'>(</span><span class='id identifier rubyid_block_source_line'>block_source_line</span><span class='rparen'>)</span>
  <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecation'>warn_deprecation</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;MSG</span>
<span class='tstring_content'>In RSpec 3, `any_instance` implementation blocks will be yielded the receiving
instance as the first block argument to allow the implementation block to use
the state of the receiver.  To maintain compatibility with RSpec 3 you need to
either set rspec-mocks&#39; `yield_receiver_to_any_instance_implementation_blocks`
config option to `false` OR set it to `true` and update your `any_instance`
implementation blocks to account for the first block argument being the receiving instance.

To set the config option, use a snippet like:

RSpec.configure do |rspec|
  rspec.mock_with :rspec do |mocks|
    mocks.yield_receiver_to_any_instance_implementation_blocks = false
  end
end

Your `any_instance` implementation block is declared at: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_block_source_line'>block_source_line</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>MSG
</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exactly-instance_method">
  
    - (<tt>Object</tt>) <strong>exactly</strong>(n) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Constrain a message expectation to be received a specific number of
times.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_dealer'>dealer</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:deal_card</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_exactly'>exactly</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


373
374
375
376
377</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 373</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exactly'>exactly</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_set_expected_received_count'>set_expected_received_count</span> <span class='symbol'>:exactly</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expectation_count_type-instance_method">
  
    - (<tt>Object</tt>) <strong>expectation_count_type</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314
315
316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 314</span>

<span class='kw'>def</span> <span class='id identifier rubyid_expectation_count_type'>expectation_count_type</span>
  <span class='kw'>return</span> <span class='symbol'>:at_least</span> <span class='kw'>if</span> <span class='ivar'>@at_least</span>
  <span class='kw'>return</span> <span class='symbol'>:at_most</span> <span class='kw'>if</span> <span class='ivar'>@at_most</span>
  <span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="never-instance_method">
  
    - (<tt>Object</tt>) <strong>never</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Expect a message not to be received at all.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:stop</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_never'>never</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


433
434
435
436
437</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 433</span>

<span class='kw'>def</span> <span class='id identifier rubyid_never'>never</span>
  <span class='const'>ErrorGenerator</span><span class='period'>.</span><span class='id identifier rubyid_raise_double_negation_error'>raise_double_negation_error</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expect(obj)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_negative?'>negative?</span>
  <span class='ivar'>@expected_received_count</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="once-instance_method">
  
    - (<tt>Object</tt>) <strong>once</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Expect a message to be received exactly one time.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_once'>once</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


444
445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 444</span>

<span class='kw'>def</span> <span class='id identifier rubyid_once'>once</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_set_expected_received_count'>set_expected_received_count</span> <span class='symbol'>:exactly</span><span class='comma'>,</span> <span class='int'>1</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ordered-instance_method">
  
    - (<tt>Object</tt>) <strong>ordered</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Expect messages to be received in a specific order.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:prepare</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ordered'>ordered</span>
<span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:run</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ordered'>ordered</span>
<span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:finish</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ordered'>ordered</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


468
469
470
471
472
473</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 468</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ordered'>ordered</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='ivar'>@order_group</span><span class='period'>.</span><span class='id identifier rubyid_register'>register</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='ivar'>@ordered</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="raise_out_of_order_error-instance_method">
  
    - (<tt>Object</tt>) <strong>raise_out_of_order_error</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


325
326
327</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 325</span>

<span class='kw'>def</span> <span class='id identifier rubyid_raise_out_of_order_error'>raise_out_of_order_error</span>
  <span class='ivar'>@error_generator</span><span class='period'>.</span><span class='id identifier rubyid_raise_out_of_order_error'>raise_out_of_order_error</span> <span class='ivar'>@message</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="should_display_any_instance_deprecation_warning-instance_method">
  
    - (<tt>Object</tt>) <strong>should_display_any_instance_deprecation_warning</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


495
496
497
498</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 495</span>

<span class='kw'>def</span> <span class='id identifier rubyid_should_display_any_instance_deprecation_warning'>should_display_any_instance_deprecation_warning</span>
  <span class='id identifier rubyid_warn_about_yielding_receiver_to_implementation_block'>warn_about_yielding_receiver_to_implementation_block</span> <span class='op'>&amp;&amp;</span>
    <span class='op'>!</span><span class='ivar'>@have_warned_about_yielding_receiver</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="times-instance_method">
  
    - (<tt>Object</tt>) <strong>times</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Syntactic sugar for <code>exactly</code>, <code>at_least</code> and <code>at_most</code></p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_dealer'>dealer</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:deal_card</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_exactly'>exactly</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span>
<span class='id identifier rubyid_dealer'>dealer</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:deal_card</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_at_least'>at_least</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span>
<span class='id identifier rubyid_dealer'>dealer</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:deal_card</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_at_most'>at_most</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


414
415
416
417</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 414</span>

<span class='kw'>def</span> <span class='id identifier rubyid_times'>times</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="twice-instance_method">
  
    - (<tt>Object</tt>) <strong>twice</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Expect a message to be received exactly two times.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_car'>car</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_twice'>twice</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


455
456
457
458
459</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 455</span>

<span class='kw'>def</span> <span class='id identifier rubyid_twice'>twice</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_set_expected_received_count'>set_expected_received_count</span> <span class='symbol'>:exactly</span><span class='comma'>,</span> <span class='int'>2</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="warn_about_receiver_passing-instance_method">
  
    - (<tt>Object</tt>) <strong>warn_about_receiver_passing</strong>(any_instance_source_line) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


490
491
492
493</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 490</span>

<span class='kw'>def</span> <span class='id identifier rubyid_warn_about_receiver_passing'>warn_about_receiver_passing</span><span class='lparen'>(</span><span class='id identifier rubyid_any_instance_source_line'>any_instance_source_line</span><span class='rparen'>)</span>
  <span class='ivar'>@any_instance_source_line</span> <span class='op'>=</span> <span class='id identifier rubyid_any_instance_source_line'>any_instance_source_line</span>
  <span class='ivar'>@warn_about_yielding_receiver_to_implementation_block</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with-instance_method">
  
    - (<tt>Object</tt>) <strong>with</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Constrains a stub or message expectation to invocations with specific
arguments.</p>

<p>With a stub, if the message might be received with other args as well,
you should stub a default value first, and then stub or mock the same
message using <code>with</code> to constrain to specific arguments.</p>

<p>A message expectation will fail if the message is received with different
arguments.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code">
<span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:add</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='symbol'>:failure</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_stub'>stub</span><span class='lparen'>(</span><span class='symbol'>:add</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_with'>with</span><span class='lparen'>(</span><span class='const'>Book</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:isbn</span> <span class='op'>=&gt;</span> <span class='int'>1934356379</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='symbol'>:success</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='const'>Book</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:isbn</span> <span class='op'>=&gt;</span> <span class='int'>1234567890</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='comment'># =&gt; :failure
</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='const'>Book</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:isbn</span> <span class='op'>=&gt;</span> <span class='int'>1934356379</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='comment'># =&gt; :success
</span>
<span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:add</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_with'>with</span><span class='lparen'>(</span><span class='const'>Book</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:isbn</span> <span class='op'>=&gt;</span> <span class='int'>1934356379</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='symbol'>:success</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='const'>Book</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:isbn</span> <span class='op'>=&gt;</span> <span class='int'>1234567890</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='comment'># =&gt; failed expectation
</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='const'>Book</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:isbn</span> <span class='op'>=&gt;</span> <span class='int'>1934356379</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='comment'># =&gt; passes</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


353
354
355
356
357
358
359
360
361
362
363
364
365</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 353</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with'>with</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='const'>RSpec</span><span class='period'>.</span><span class='id identifier rubyid_deprecate'>deprecate</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Using the return value of a `with` block to validate passed arguments rather than as an implementation</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='symbol'>:replacement</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the `satisfy` matcher, a custom matcher or validate the arguments in an implementation block</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inner_implementation_action'>inner_implementation_action</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@argument_list_matcher</span> <span class='op'>=</span> <span class='const'>ArgumentListMatcher</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="yield_receiver_to_implementation_block?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>yield_receiver_to_implementation_block?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/mocks/message_expectation.rb', line 108</span>

<span class='kw'>def</span> <span class='id identifier rubyid_yield_receiver_to_implementation_block?'>yield_receiver_to_implementation_block?</span>
  <span class='ivar'>@yield_receiver_to_implementation_block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jan 29 14:01:30 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.0 (ruby-2.1.5).
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59095215-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
