<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RSpec::Core::Metadata
  
    &mdash; Documentation by YARD 0.8.0
  
</title>

  <link rel="stylesheet" href="/stylesheets/docs/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="/stylesheets/docs/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="/javascripts/docs/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="/javascripts/docs/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Core.html" title="RSpec::Core (module)">Core</a></span></span>
     &raquo; 
    <span class="title">Metadata</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RSpec::Core::Metadata
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Hash</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Hash</li>
          
            <li class="next">RSpec::Core::Metadata</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rspec/core/metadata.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Each ExampleGroup class and Example instance owns an instance of
Metadata, which is Hash extended to support lazy evaluation of values
associated with keys that may or may not be used by any example or group.</p>

<p>In addition to metadata that is used internally, this also stores
user-supplied metadata, e.g.</p>

<pre class="code ruby"><code><span class='id identifier rubyid_describe'>describe</span> <span class='const'>Something</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='symbol'>:ui</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>does something</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:slow</span> <span class='op'>=&gt;</span> <span class='kw'>true</span> <span class='kw'>do</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><code>:type =&gt; :ui</code> is stored in the Metadata owned by the example group, and
<code>:slow =&gt; true</code> is stored in the Metadata owned by the example. These can
then be used to select which examples are run using the <code>--tag</code> option on
the command line, or several methods on <code>Configuration</code> used to filter a
run (e.g. <code>filter_run_including</code>, <code>filter_run_excluding</code>, etc).</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Example.html#metadata-instance_method" title="RSpec::Core::Example#metadata (method)">Example#metadata</a></span></li>
    
      <li><span class='object_link'><a href="ExampleGroup.html#metadata-class_method" title="RSpec::Core::ExampleGroup.metadata (method)">ExampleGroup.metadata</a></span></li>
    
      <li><span class='object_link'><a href="FilterManager.html" title="RSpec::Core::FilterManager (class)">FilterManager</a></span></li>
    
      <li><span class='object_link'><a href="Configuration.html#filter_run_including-instance_method" title="RSpec::Core::Configuration#filter_run_including (method)">Configuration#filter_run_including</a></span></li>
    
      <li><span class='object_link'><a href="Configuration.html#filter_run_excluding-instance_method" title="RSpec::Core::Configuration#filter_run_excluding (method)">Configuration#filter_run_excluding</a></span></li>
    
  </ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Metadata/ExampleMetadataHash.html" title="RSpec::Core::Metadata::ExampleMetadataHash (module)">ExampleMetadataHash</a></span>, <span class='object_link'><a href="Metadata/GroupMetadataHash.html" title="RSpec::Core::Metadata::GroupMetadataHash (module)">GroupMetadataHash</a></span>
    
  
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="RESERVED_KEYS-constant" class="">RESERVED_KEYS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='symbol'>:description</span><span class='comma'>,</span>
  <span class='symbol'>:example_group</span><span class='comma'>,</span>
  <span class='symbol'>:execution_result</span><span class='comma'>,</span>
  <span class='symbol'>:file_path</span><span class='comma'>,</span>
  <span class='symbol'>:full_description</span><span class='comma'>,</span>
  <span class='symbol'>:line_number</span><span class='comma'>,</span>
  <span class='symbol'>:location</span>
<span class='rbracket'>]</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#relative_path-class_method" title="relative_path (class method)">+ (Object) <strong>relative_path</strong>(line) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Metadata) <strong>initialize</strong>(parent_group_metadata = nil) {|_self| ... }</a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of Metadata.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RSpec::Core::Metadata (class)">Metadata</a></span></tt>) <strong>initialize</strong>(parent_group_metadata = nil) {|_self| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>A new instance of Metadata</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>_self</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>_self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RSpec::Core::Metadata (class)">RSpec::Core::Metadata</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the object that the method was called on</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165
166
167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/core/metadata.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_group_metadata'>parent_group_metadata</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_parent_group_metadata'>parent_group_metadata</span>
    <span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_group_metadata'>parent_group_metadata</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='symbol'>:example_group</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='symbol'>:example_group</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_parent_group_metadata'>parent_group_metadata</span><span class='lbracket'>[</span><span class='symbol'>:example_group</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>GroupMetadataHash</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>GroupMetadataHash</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='symbol'>:example_group</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>GroupMetadataHash</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="relative_path-class_method">
  
    + (<tt>Object</tt>) <strong>relative_path</strong>(line) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/core/metadata.rb', line 29</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_relative_path'>relative_path</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([^:]+:\d+)$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e:1</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_line'>line</span>
<span class='kw'>rescue</span> <span class='const'>SecurityError</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jan 29 14:04:31 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.0 (ruby-2.1.5).
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59095215-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
